<!DOCTYPE HTML>
<html>
<head>

    <meta charset="UTF-8">
    <meta name="robots" content="noindex,nofollow"> 
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

    <title>Digest auth tester</title>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.2/components/core-min.js"></script>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.2/rollups/hmac-sha512.js"></script>
    <script type="text/javascript" src="digestAuthRequest.js"></script>


</head>
<body>
<h1>DigestAuthRequest.js test</h1>
<p id="result">Requesting...</p>
<p id="data"></p>
</body>
<script type="text/javascript">
	window.onload = function() {
		var req = new digestAuthRequest('GET', 'http://127.0.0.1/fileservice/%24home/A1brush?json=1', 'Default User', 'robotics');
		// make the request
		req.request(function(data) {
			console.log('Data retrieved successfully');
			console.log(data);
			document.getElementById('result').innerHTML = 'Data retrieved successfully';
			document.getElementById('data').innerHTML = JSON.stringify(data);
		},function(errorCode) {
			console.log('no dice: '+errorCode);
			document.getElementById('result').innerHTML = 'Error: '+errorCode;
		});
	}
</script>

